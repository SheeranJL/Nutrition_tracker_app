(this["webpackJsonpnutrition-app"]=this["webpackJsonpnutrition-app"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(8),i=c.n(a),r=(c(14),c.p,c(15),c(2)),o=(c(16),c(4)),l=c(3),d=c(0),j=Object(n.createContext)(),u=function(e){var t=Object(n.useState)(null),c=Object(r.a)(t,2),s=c[0],a=c[1],i=Object(n.useState)(null),u=Object(r.a)(i,2),m=u[0],b=u[1],O=Object(n.useState)(null),h=Object(r.a)(O,2),f=h[0],x=(h[1],Object(n.useState)([])),v=Object(r.a)(x,2),p=v[0],g=v[1],N=Object(n.useState)(1500),_=Object(r.a)(N,2),y=_[0],k=_[1],w=Object(n.useState)(!1),C=Object(r.a)(w,2),S=C[0],q=C[1];Object(n.useEffect)((function(){fetch("https://trackapi.nutritionix.com/v2/search/instant?query=".concat(s,"&detailed=true"),{headers:{"x-app-id":"39bb1e54","x-app-key":"693f9705767c566e3ed889f725dd0d1c",detailed:"true"}}).then((function(e){return e.json()})).then((function(e){e.common.length&&b(e.common)}))}),[s]);var F=function(e){var t=p.find((function(t){return t.mealTime===e.mealTime&&t.tag_id===e.tag_id})),c=p.filter((function(e){return e!==t}));g(Object(o.a)(c))};return Object(d.jsx)(j.Provider,{value:{actions:{setSearch:a,setFoods:g,addToInventory:function(e){var t=p.find((function(t){return t.tag_id===e.tag_id&&t.mealTime===e.mealTime}));if(t){console.log("yes",t);var c=p.filter((function(e){return e!==t})),n=Object(l.a)(Object(l.a)({},t),{},{serving_qty:t.serving_qty+e.serving_qty});g([].concat(Object(o.a)(c),[n]))}else g([].concat(Object(o.a)(p),[e]))},deleteItem:F,increaseItem:function(e){var t=p.find((function(t){return t.mealTime===e.mealTime&&t.tag_id===e.tag_id})),c=p.filter((function(e){return e!==t})),n=Object(l.a)(Object(l.a)({},t),{},{serving_qty:t.serving_qty+1});g([n].concat(Object(o.a)(c)))},decreaseItem:function(e){var t=p.find((function(t){return t.mealTime===e.mealTime&&t.tag_id===e.tag_id})),c=p.filter((function(e){return e!==t})),n=Object(l.a)(Object(l.a)({},t),{},{serving_qty:t.serving_qty-1});n.serving_qty>0?g([n].concat(Object(o.a)(c))):F(e)},setGoal:k,setModalFocus:q},data:{search:s,commonFoods:m,brandedFoods:f,foods:p,goal:y,modalFocus:S}},children:e.children})},m=(c(18),c(9)),b=(c(19),c(20),function(e){var t=e.item,c=(e.hidden,e.handleClick),s=Object(n.useState)(null),a=Object(r.a)(s,2),i=a[0],o=a[1],u=Object(n.useContext)(j),m=u.actions.addToInventory,b=(u.data,Object(n.useRef)());Object(n.useEffect)((function(){o(t)}));return Object(d.jsx)(d.Fragment,{children:null===i?Object(d.jsx)("h1",{children:"Loading..."}):Object(d.jsxs)("div",{className:"select-modal-container",children:[Object(d.jsxs)("div",{className:"select-modal-image-and-close",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{className:"modal-image",src:i.photo.thumb}),Object(d.jsx)("p",{className:"food-modal-name",children:i.food_name})]}),Object(d.jsx)("span",{className:"modal-close",onClick:c,children:"\u2716"})]}),Object(d.jsx)("div",{className:"serving-info",children:Object(d.jsxs)("div",{className:"select-serving",children:[Object(d.jsxs)("div",{className:"servings-info-left",children:[Object(d.jsx)("span",{className:"serving-text",children:"Servings"}),Object(d.jsx)("span",{className:"serving-size-select",children:i.serving_qty})]}),Object(d.jsxs)("div",{className:"arrows",children:[Object(d.jsx)("button",{className:"arrow",onClick:function(){var e=i;o(Object(l.a)({},e),e.serving_qty++)},children:"\u2303"}),Object(d.jsx)("button",{className:"arrow",onClick:function(){var e=i;e.serving_qty>0&&o(Object(l.a)({},e),e.serving_qty--)},children:"\u2304"})]}),Object(d.jsxs)("div",{className:"servings-info-right",children:[Object(d.jsxs)("div",{className:"measurements",children:[Object(d.jsx)("span",{className:"unit-measurement",children:i.serving_weight_grams}),Object(d.jsx)("span",{className:"calories-desc",children:"grams"})]}),Object(d.jsxs)("div",{className:"nut-info",children:[Object(d.jsx)("span",{className:"calories",children:Math.ceil(i.full_nutrients[4].value)*i.serving_qty}),Object(d.jsx)("span",{className:"calories-desc",children:"calories"})]})]})]})}),Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=b.current.options.selectedIndex,c=b.current.options[t].innerHTML.toLowerCase(),n=Object(l.a)(Object(l.a)({},i),{},{mealTime:c});m(n)},children:Object(d.jsxs)("div",{className:"add-to-meal",children:[Object(d.jsxs)("select",{ref:b,className:"meal-time-dropdown",name:"meal-type",id:"meal-type",children:[Object(d.jsx)("option",{className:"dropdown-value",value:"breakfast",children:"Breakfast"}),Object(d.jsx)("option",{className:"dropdown-value",value:"lunch",children:"Lunch"}),Object(d.jsx)("option",{className:"dropdown-value",value:"dinner",children:"Dinner"}),Object(d.jsx)("option",{className:"dropdown-value",value:"snack",children:"Snack"})]}),Object(d.jsx)("div",{className:"modal-add-button-container",children:Object(d.jsx)("button",{className:"modal-add-button",type:"submit",children:"ADD"})})]})})]})})}),O=["photo","food_name"],h=function(e){var t=e.data,c=t.photo,s=t.food_name,a=(Object(m.a)(t,O),Object(n.useContext)(j).data.commonFoods),i=Object(n.useState)(null),o=Object(r.a)(i,2),l=o[0],u=o[1],h=Object(n.useState)(!0),f=Object(r.a)(h,2),x=f[0],v=f[1];return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"dropdown-item",children:[Object(d.jsx)("div",{className:"dropdown-image-container",children:Object(d.jsx)("img",{className:"dropdown-image",src:c.thumb})}),Object(d.jsx)("p",{onClick:function(e){var t=e.target.innerHTML;console.log("clicked"),v(!x),u(a.filter((function(e){return e.food_name===t})))},className:"food-item",children:s})]}),l?Object(d.jsx)("div",{style:{display:x?"none":""},children:Object(d.jsx)(b,{item:l[0],handleClick:function(){v(!x),console.log("hidden")}})}):null]})},f=function(){var e=Object(n.useContext)(j).data,t=e.commonFoods;e.brandedFoods;return Object(d.jsx)("div",{class:"dropdown-menu-container",children:null!==t?Object(d.jsx)(d.Fragment,{children:t.filter((function(e,t){return t<5})).map((function(e){return Object(d.jsx)(h,{data:e})}))}):Object(d.jsx)("h1",{className:"search-food-desc",children:"Search for food above"})})},x=function(){var e=Object(n.useContext)(j),t=e.actions,c=t.setSearch,s=t.setModalFocus,a=e.data,i=(a.search,a.modalFocus),o=Object(n.useState)(!1),l=Object(r.a)(o,2),u=(l[0],l[1],Object(n.useState)(null)),m=Object(r.a)(u,2),b=m[0],O=m[1];return Object(d.jsxs)("div",{className:"header-component",children:[Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),c(b)},children:Object(d.jsxs)("div",{className:"input-and-submit",children:[Object(d.jsx)("button",{className:"submit-button",type:"submit",children:"\ud83d\udd0d"}),Object(d.jsx)("input",{className:"input",type:"text",placeholder:"Search foods...",onChange:function(e){O(e.target.value)},value:b,onClick:function(){s(!i)}})]})}),Object(d.jsx)("div",{children:i?Object(d.jsx)("div",{className:"dropdown-modal",children:Object(d.jsx)(f,{})}):null})]})},v=(c(21),c(22),function(){var e=Object(n.useContext)(j).data,t=e.foods.reduce((function(e,t){return e+Math.ceil(t.full_nutrients[4].value*t.serving_qty)}),0),c=(t/e.goal*100).toFixed(0);console.log(c);var s=e.foods.filter((function(e){return"breakfast"===e.mealTime})).reduce((function(e,t){return e+Math.ceil(t.full_nutrients[4].value*t.serving_qty)}),0),a=e.foods.filter((function(e){return"lunch"===e.mealTime})).reduce((function(e,t){return e+Math.ceil(t.full_nutrients[4].value*t.serving_qty)}),0),i=e.foods.filter((function(e){return"dinner"===e.mealTime})).reduce((function(e,t){return e+Math.ceil(t.full_nutrients[4].value*t.serving_qty)}),0),r=e.foods.filter((function(e){return"breakfast"===e.mealTime})).reduce((function(e,t){return e+Math.ceil(t.full_nutrients[4].value*t.serving_qty)}),0);return Object(d.jsxs)("div",{className:"profile-container",children:[Object(d.jsxs)("div",{className:"person-and-info",children:[Object(d.jsxs)("div",{className:"person-info",children:[Object(d.jsx)("p",{className:"weight-height",children:"57"}),Object(d.jsx)("p",{className:"metric",children:"kg"})]}),Object(d.jsx)("img",{className:"profile-picture",src:"https://randomuser.me/api/portraits/women/80.jpg"}),Object(d.jsxs)("div",{className:"person-info",children:[Object(d.jsx)("p",{className:"weight-height",children:"163"}),Object(d.jsx)("p",{className:"metric",children:"cm"})]})]}),Object(d.jsx)("span",{className:"person-name",children:"Fake User"}),Object(d.jsxs)("div",{className:"stats-tracker-container",children:[Object(d.jsxs)("div",{className:"consumed-and-goal",children:[Object(d.jsxs)("h2",{children:[t," cal"]}),Object(d.jsx)("span",{children:"consumed"})]}),Object(d.jsxs)("div",{className:"daily-goal",children:[Object(d.jsxs)("h2",{children:[e.goal," cal"]}),Object(d.jsx)("span",{children:"daily goal"})]})]}),Object(d.jsxs)("div",{className:"progress-bar-container",children:[Object(d.jsx)("div",{className:"progress-bar",style:{width:c<100?"calc(".concat(c,"%)"):"100%"}}),Object(d.jsxs)("p",{className:"percentage",style:{width:c<100?"calc(".concat(2*c,"%)"):"200%"},children:[c,"%"]})]}),Object(d.jsxs)("div",{className:"meal-time-breakdown-container",children:[Object(d.jsxs)("div",{className:"meal-time",children:[Object(d.jsx)("h3",{children:s}),Object(d.jsx)("span",{children:"Breakfast"})]}),Object(d.jsxs)("div",{className:"meal-time",children:[Object(d.jsx)("h3",{children:a}),Object(d.jsx)("span",{children:"Lunch"})]}),Object(d.jsxs)("div",{className:"meal-time",children:[Object(d.jsx)("h3",{children:i}),Object(d.jsx)("span",{children:"Dinner"})]}),Object(d.jsxs)("div",{className:"meal-time",children:[Object(d.jsx)("h3",{children:r}),Object(d.jsx)("span",{children:"Snack"})]})]})]})}),p=(c(23),c(24),function(e){var t=e.food,c=Math.ceil(t.full_nutrients[4].value*t.serving_qty),s=Object(n.useContext)(j),a=s.actions;s.data;return console.log(t),Object(d.jsxs)("div",{className:"main-food-item-container",children:[Object(d.jsx)("div",{className:"main-food-item-image",children:Object(d.jsx)("img",{src:t.photo.thumb})}),Object(d.jsxs)("div",{className:"food-item-info-container",children:[Object(d.jsx)("span",{className:"food-item-name",children:t.food_name}),Object(d.jsx)("span",{className:"food-info",children:"".concat(t.serving_qty," (").concat(t.serving_weight_grams,"g)")})]}),Object(d.jsx)("div",{className:"toggle-options",children:Object(d.jsx)("button",{className:"toggle-buttons",onClick:function(){return a.deleteItem(t)},children:"\u274c"})}),Object(d.jsxs)("div",{className:"nutrition-info-container",children:[Object(d.jsxs)("span",{className:"calories-info",children:[c," cal"]}),Object(d.jsx)("span",{children:t.mealTime})]})]})}),g=function(){var e=Object(n.useContext)(j).data,t=Object(n.useState)(null),c=Object(r.a)(t,2),s=(c[0],c[1]),a=Object(n.useState)(!0),i=Object(r.a)(a,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){s(Object(o.a)(e.foods)),u(!1)}),[e.foods]),Object(d.jsx)("div",{className:"food-container",children:l?Object(d.jsx)("h1",{children:"loading"}):e.foods.map((function(e){return Object(d.jsx)(p,{food:e})}))})},N=function(){var e=Object(n.useContext)(j).data;return Object(d.jsxs)("div",{className:"main-page",children:[Object(d.jsx)("div",{className:"profile-section",children:Object(d.jsx)(v,{})}),Object(d.jsx)("div",{className:"food-section",children:e.foods.length?Object(d.jsx)(g,{}):Object(d.jsx)("h1",{className:"no-food-desc",children:"Foods you add will be displayed here"})})]})},_=(c(25),function(){var e=Object(n.useContext)(j),t=e.data.modalFocus,c=e.actions.setModalFocus;return Object(d.jsx)("div",{onClick:function(){c(!t)},className:"add-icon-container",children:Object(d.jsx)("span",{className:"add-icon",children:"+"})})}),y=function(){return Object(d.jsxs)("div",{className:"app-container",children:[Object(d.jsx)(x,{}),Object(d.jsx)(N,{}),Object(d.jsx)(_,{})]})},k=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,27)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(d.jsx)(u,{children:Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(y,{})})}),document.getElementById("root")),k()}],[[26,1,2]]]);
//# sourceMappingURL=main.a0193638.chunk.js.map